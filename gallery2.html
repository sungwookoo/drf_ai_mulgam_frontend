<!DOCTYPE html>
<html lang="en">

<head>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous">
        </script>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.js"></script>

    <meta charset="UTF-8">
    <link href="css/gallery.css" rel="stylesheet" type="text/css" />
    <link href="https://fonts.googleapis.com/css2?family=DM+Sans&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@1,300&display=swap"
        rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Serif+KR:wght@200&display=swap" rel="stylesheet">
    <title>Mulgam</title>
    <script src="js/gallery2.js"> </script>
    <script src="/js/nav.js"></script>
    <script src="/js/auth_api.js"></script>
    <script src="/js/common.js"></script>
    <script src="js/comment.js"> </script>

    <link rel="stylesheet" href="/css/auth.css" />
    <link rel="stylesheet" href="/css/nav.css" />
</head>

<body>
    <header>
        <nav id="navigationBar">
            <ul>
                <li>
                    <a href="/home" class="link">About</a>
                </li>
                <li>
                    <a href="/gallery1" class="link">Gallery 1</a>
                </li>
                <li>
                    <a href="/gallery2" class="link">Gallery 2</a>
                </li>
                <!-- <li>
                    <a data-bs-toggle="modal" data-bs-target="#whyclickModal">
                        Click Me
                    </a>
                </li> -->
                <li>
                    <a id="a_logout" style="float:right;margin-right:15px;" onclick="handleLogout()">
                        Logout
                    </a>
                </li>
                <li>
                    <a id="a_mypage" style="float:right;" href="" class="link">
                    </a>
                </li>
                <li>
                    <a id="a_signup" style="float:right; margin-right: 15px;" class="nav-signup" data-bs-toggle="modal"
                        data-bs-target="#signupModal">
                        Sign up
                    </a>
                </li>
                <li>
                    <a id="a_login" style="float:right" class="nav-signin" data-bs-toggle="modal"
                        data-bs-target="#loginModal">
                        Login
                    </a>
                </li>
            </ul>
        </nav>
        <!-- modal body-->
        <div id="include_login"></div>
        <div id="include_signup"></div>
        <div id="whyclick" style="text-align: center;">
            <img class="" style="width: 500px;" src="https://picsum.photos/500">
        </div>
        <!-- /modal body-->
    </header>

    <!-- editor -->
    <div class="edit">
        <div class="editor"> Edited by: </div>
        <div class="editor"> WCDW </div>
    </div>

    <!-- gallery1_main -->
    <div class="main_container">
        <div class="main_box">
            <div id="gallery2_painting" class="floor">

                <!--자바스크립트-->
                <div class="feed_box">
                    <a>
                        <div class="feed"><img src="${img_url}" width="300" height="300"></div>
                    </a>
                    <div class="feed_title">${title}</div>
                    <div class="button_box">
                        <a><button class="put_button">edit</button></a>
                        <a><button class="delete_button">delete</button></a>
                    </div>
                </div>

                <div class="feed_box">
                    <div class="feed"><img
                            src="https://freight.cargo.site/w/200/q/94/i/0000080x0160be4.fc56833ab6f09db2189fd684525b4f1748e061a03b0bbc1c23e22ec265d8358d/prt_1305406940.jpg"
                            width="300" height="300"></div>
                    <div class="feed_title">hello world</div>
                    <div class="button_box">
                        <a><button class="put_button">edit</button></a>
                        <a><button class="delete_button">delete</button></a>
                    </div>
                </div>

                <div class="feed_box">
                    <div class="feed"><img
                            src="https://freight.cargo.site/w/200/q/94/i/0000080x055e85f.e55ea29eac4ca7c46a4c7cc32ba419e4f0a4f0e8c620f5ed7f9cc8db52ff8469/prt_1368733199.jpg"
                            width="300" height="300"></div>
                    <div class="feed_title">lego gogh</div>
                    <div class="button_box">
                        <a><button class="put_button">edit</button></a>
                        <a><button class="delete_button">delete</button></a>
                    </div>
                </div>

                <div class="feed_box">
                    <div class="feed"><img
                            src="https://freight.cargo.site/w/200/q/94/i/0000080x0537ca6.5f11d90d4c26e98133b79579584046a6eac5d4a20888fac977fdd584792c0d62/prt_1366823467.jpg"
                            width="300" height="300"></div>
                    <div class="feed_title">lego gogh</div>
                    <div class="button_box">
                        <a><button class="put_button">edit</button></a>
                        <a><button class="delete_button">delete</button></a>
                    </div>
                </div>

                <div class="feed_box">
                    <div class="feed"><img
                            src="https://freight.cargo.site/w/200/q/94/i/0000080x053793b.a5e6265b2ec5bf4116839f8496d6a02be9dda6dd2e3f5ae1c8950a96dbb4720a/prt_1366746089.jpg"
                            width="300" height="300"></div>
                    <div class="feed_title">lego gogh</div>
                    <div class="button_box">
                        <a><button class="put_button">edit</button></a>
                        <a><button class="delete_button">delete</button></a>
                    </div>
                </div>

                <div class="feed_box">
                    <div class="feed"><img
                            src="https://freight.cargo.site/w/200/q/94/i/0000080x067f140.f58dcf2bb27b6e9eb0bc20035728e6c42fe21527890495b81c0d391becab4959/prt_1385407792.jpg"
                            width="300" height="300"></div>
                    <div class="feed_title">lego gogh</div>
                    <div class="button_box">
                        <a><button class="put_button">edit</button></a>
                        <a><button class="delete_button">delete</button></a>
                    </div>
                </div>

            </div>
        </div>
    </div>

    <!--모달-->
    <div class="modal fade" id="exampleModal2" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog" style="height:635px; max-width: none; width:1000px">
            <div class="modal-content g2modal" style="height:100%">
                <div class="modal-header">
                    gallery 2
                </div>
                <div class="modal-body">
                    <div>
                        <img src="img/그림7.png" class="img_dicription">
                    </div>
                    <hr>
                    <div class="file_upload">
                        <input type="text" id="title" name="title" placeholder="제목">
                        <br>
                        <input class="file_choice1" type="file" id="file1" name="file1"
                            accept="image/jpeg, image/jpg, image/png" multiple>
                        <img class="img_read1" src="img/그림5.png" id="img_section1">
                        <img class="img_read3" src="img/그림4.png" id="img_section">
                        <input class="file_choice2" type="file" id="file2" name="file2"
                            accept="image/jpeg, image/jpg, image/png" multiple>
                        <img class="img_read2" src="img/그림6.png" id="img_section2">




                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="w-btn-outline w-btn-blue-outline" data-bs-dismiss="modal"
                        onclick="post_gallery2()">제출</button>
                    <button type="button" class="w-btn-outline w-btn-gray-outline"
                        data-bs-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>
    <div id="editsmodal">

    </div>

    <!-- 디테일 모달 추가-->
    <div id="include_comment">
        <main class="form-comment">
            <form id="detail-box">

            </form>
            <p class="mt-3 text-muted">© team 5. WCD </p>
        </main>
    </div>
    <button class="nextmodal" data-bs-toggle="modal" data-bs-target="#exampleModal3">
        로딩중
    </button>
    <!-- 푸터 -->
    <div class="copyright py-4 text-center text-white" style="background-image: url('https://mblogthumb-phinf.pstatic.net/MjAyMDA0MTdfNTMg/MDAxNTg3MTA4MDcyNzI3.NjLRceftGnwms0yzBh2hN-RaOL-goS5zj8zOFusoSEAg.LSXqKH2BvMM87WO2m8Vh0IelgKOvrq9GDj4R5n3v0IIg.JPEG.youli9988/IMG_4433.JPG?type=w800');
        background-size: cover;
        background-attachment: fixed;
        background-position: center;">
        <div class="container"><small>WECD &copy; MULGAM 2022</small></div>
    </div>

    <div class="modal fade" id="exampleModal3" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog" style="height:350px; max-width: none; width:300px">
            <div class="modal-content g2modal" style="height:100%">
                <div class="modal-header">
                    gallery 2
                </div>
                <div class="loading_modal">
                    <br>
                    로딩중 입니다.<br>
                    닫기를 이용하여 갤러리를 구경하면서 기다릴 수 있습니다.<br>
                    로딩은 1분 정도 걸립니다.<br>
                    <br>

                </div>

                <div class="modal-footer">
                    <button type="button" class="w-btn-outline w-btn-gray-outline" data-bs-dismiss="modal">닫기</button>
                </div>
            </div>
        </div>
    </div>
    </div>
    <script>
        const reader = new FileReader();

        reader.onload = (readerEvent) => {
            document.querySelector("#img_section1").setAttribute("src", readerEvent.target.result);
            //파일을 읽는 이벤트가 발생하면 img_section의 src 속성을 readerEvent의 결과물로 대체함
        };

        document.querySelector("#file1").addEventListener("change", (changeEvent) => {
            //upload_file 에 이벤트리스너를 장착

            const imgFile = changeEvent.target.files[0];
            reader.readAsDataURL(imgFile);
            //업로드한 이미지의 URL을 reader에 등록
        })

        const reader1 = new FileReader();

        reader1.onload = (readerEvent) => {
            document.querySelector("#img_section2").setAttribute("src", readerEvent.target.result);
            //파일을 읽는 이벤트가 발생하면 img_section의 src 속성을 readerEvent의 결과물로 대체함
        };

        document.querySelector("#file2").addEventListener("change", (changeEvent) => {
            //upload_file 에 이벤트리스너를 장착

            const imgFile = changeEvent.target.files[0];
            reader1.readAsDataURL(imgFile);
            //업로드한 이미지의 URL을 reader에 등록
        })
        let post_button = `
        <button class="float" data-bs-toggle="modal" data-bs-target="#exampleModal2">
            작품 게시
        </button>`
        if (localStorage.getItem("payload") != null) {
            $('body').append(post_button);
        }
    </script>
</body>

</html>