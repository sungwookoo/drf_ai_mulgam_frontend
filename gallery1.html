<!DOCTYPE html>
<html lang="en">

<head>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous">
        </script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.js"></script>
    <meta charset="UTF-8">
    <link href="css/gallery.css" rel="stylesheet" type="text/css" />
    <link href="https://fonts.googleapis.com/css2?family=DM+Sans&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@1,300&display=swap"
        rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Serif+KR:wght@200&display=swap" rel="stylesheet">
    <title>Mulgam</title>
    <script src="js/gallery1.js"> </script>
    <script src="/js/nav.js"></script>
    <script src="/js/auth_api.js"></script>
    <script src="/js/common.js"></script>
    <script src="js/comment.js"> </script>

    <link rel="stylesheet" href="/css/auth.css" />
    <link rel="stylesheet" href="/css/nav.css" />
</head>

<body>
    <header>
        <nav id="navigationBar">
            <ul>
                <li>
                    <a href="/home" class="link">About</a>
                </li>
                <li>
                    <a href="/gallery1" class="link">Gallery 1</a>
                </li>
                <li>
                    <a href="/gallery2" class="link">Gallery 2</a>
                </li>
                <li>
                    <a id="a_logout" style="float:right;margin-right:15px;" onclick="handleLogout()">
                        Logout
                    </a>
                </li>
                <li>
                    <a id="a_mypage" style="float:right;" href="/mygallery" class="link">
                        Mypage
                    </a>
                </li>
                <li>
                    <a id="a_signup" style="float:right; margin-right: 15px;" class="nav-signup" data-bs-toggle="modal"
                        data-bs-target="#signupModal">
                        Sign up
                    </a>
                </li>
                <li>
                    <a id="a_login" style="float:right" class="nav-signin" data-bs-toggle="modal"
                        data-bs-target="#loginModal">
                        Login
                    </a>
                </li>
            </ul>
        </nav>
        <!-- modal body-->
        <div id="include_login"></div>
        <div id="include_signup"></div>
        <div id="whyclick" style="text-align: center;">
            <img class="" style="width: 500px;" src="https://picsum.photos/500">
        </div>
        <!-- /modal body-->
    </header>

    <!-- editor -->
    <div class="edit">
        <div class="editor"> Edited by: </div>
        <div class="editor"> WCDW </div>
    </div>

    <!-- 상단 화면 -->
    <div class="top-container">
        <img src="img/상단.gif" width="95%" height="" style="border-radius: 5px;">
    </div>

    <!-- gallery1_main -->
    <div class="main_container">
        <div class="main_box">
            <div id="gallery1_painting" class="floor">
                <!--자바스크립트-->
            </div>
        </div>
    </div>
    <!--모달-->

    <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog" style="height:820px; max-width: none; width:1000px">
            <div class="modal-content g2modal" style="height:100%">
                <div class="modal-header">
                    gallery 1
                </div>
                <div class="modal-body">
                    <div class="img-intro">
                        <img src="img/그림1.png" class="img_dicription">
                    </div>
                    <hr>
                    <div class="file_upload">
                        <div class="upload-box">
                            <img class="img_section" src="img/.jpg" width="250" height="250" id="img_section">
                            <div class="img-box">
                                <img class="img_reader" src="img/model0.jpg" width="250" height="250" id="num0">
                                <img class="img_reader" src="img/model1.jpg" width="250" height="250" id="num1">
                                <img class="img_reader" src="img/model2.jpg" width="250" height="250" id="num2">
                                <img class="img_reader" src="img/model3.jpg" width="250" height="250" id="num3">
                                <img class="img_reader" src="img/model4.jpg" width="250" height="250" id="num4">
                                <img class="img_reader" src="img/model5.jpg" width="250" height="250" id="num5">
                                <img class="img_reader" src="img/model6.jpg" width="250" height="250" id="num6">
                                <img class="img_reader" src="img/model7.jpg" width="250" height="250" id="num7">
                                <img class="img_reader" src="img/model8.jpg" width="250" height="250" id="num8">
                            </div>
                        </div>
                        <input class="upload-title" type="text" id="title" name="title" placeholder="제목을 입력해주세요">
                        <input class="upload-title" type="text" id="num" name="num" placeholder="num">
                        <br>
                        <input class="file_choice" type="file" id="file" name="file"
                            accept="image/jpeg, image/jpg, image/png" multiple>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="footer-submit" data-bs-dismiss="modal"
                        onclick="post_gallery1()">Submit</button>
                    <button type="button" class="footer-close" data-bs-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>

    <!-- 풋 모달 -->
    <div id="editmodal">

    </div>

    <script>
        const reader = new FileReader();

        reader.onload = (readerEvent) => {
            document.querySelector("#img_section").setAttribute("src", readerEvent.target.result);
            //파일을 읽는 이벤트가 발생하면 img_section의 src 속성을 readerEvent의 결과물로 대체함
        };

        document.querySelector("#file").addEventListener("change", (changeEvent) => {
            //upload_file 에 이벤트리스너를 장착

            const imgFile = changeEvent.target.files[0];
            reader.readAsDataURL(imgFile);
            //업로드한 이미지의 URL을 reader에 등록
        })



        $(document).ready(function () {
            $('#num0').click(function () {
                $('input#num').val('0');
            });
        });
        $(document).ready(function () {
            $('#num1').click(function () {
                $('input#num').val('1');
            });
        });
        $(document).ready(function () {
            $('#num2').click(function () {
                $('input#num').val('2');
            });
        });
        $(document).ready(function () {
            $('#num3').click(function () {
                $('input#num').val('3');
            });
        });
        $(document).ready(function () {
            $('#num4').click(function () {
                $('input#num').val('4');
            });
        });
        $(document).ready(function () {
            $('#num5').click(function () {
                $('input#num').val('5');
            });
        });
        $(document).ready(function () {
            $('#num6').click(function () {
                $('input#num').val('6');
            });
        });
        $(document).ready(function () {
            $('#num7').click(function () {
                $('input#num').val('7');
            });
        });
        $(document).ready(function () {
            $('#num8').click(function () {
                $('input#num').val('8');
            });
        });

        let post_button = `
        <button class="float" data-bs-toggle="modal" data-bs-target="#exampleModal">
            작품
        </button>`
        if (localStorage.getItem("payload") != null) {
            $('body').append(post_button);
        }
    </script>
    <!-- 푸터 -->
    <div class="copyright py-4 text-center text-white" style="background-image: url('https://mblogthumb-phinf.pstatic.net/MjAyMDA0MTdfNTMg/MDAxNTg3MTA4MDcyNzI3.NjLRceftGnwms0yzBh2hN-RaOL-goS5zj8zOFusoSEAg.LSXqKH2BvMM87WO2m8Vh0IelgKOvrq9GDj4R5n3v0IIg.JPEG.youli9988/IMG_4433.JPG?type=w800');
        background-size: cover;
        background-attachment: fixed;
        background-position: center;">
        <div class="container"><small>WECD &copy; MULGAM 2022</small></div>
    </div>

    <!-- 디테일 모달 추가-->
    <div id="include_comment">
        <main class="form-comment">
            <form id="detail-box">

            </form>
            <p class="mt-3 text-muted">© team 5. WCD </p>
        </main>
    </div>

    <!-- 댓글 수정 모달 추가-->
    <div id="include_edit">
        <main class="form-comment">
            <form id="edit-box">

            </form>
            <p class="mt-3 text-muted">© team 5. WCD </p>
        </main>
    </div>

</body>

</html>